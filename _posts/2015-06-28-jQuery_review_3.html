---
layout: default
title: 复习jQuery（3）
theme: study
---
<p>第三章是操作DOM来做一些事情，用jQuery为页面添加活力。</p>

<p>只记录一些API和s用法，因为很简单。</p>

<p>获取或修改特性</p>
<!-- more -->
<pre>
attr(name)

获取匹配集合中第一个元素指定特性的值。

attr(name, value)

将包装集中所有元素的已命名的特性设置为传入的值

attr(attributes)

用传入的对象指定的属性和值来设置匹配集中所有元素相应的特性值</pre>

<p>删除特性</p>

<p>removeAtt(name)</p>

<p>从每个匹配元素中删除指定的特性</p>

<p>&nbsp;</p>

<p>说一些实例</p>

<p>1. 强制在新窗口中打开链接</p>

<p>在标签中添加target特性就可以，但是如果不能控制标记该怎么办？因为代码不完全是自己写的。</p>

<p><code>$(&quot;a[href^=http://&#39;]&quot;).attr(&quot;target&quot;,&quot;_blank&quot;);</code></p>

<p>2. 解决可恶的双重提交问题</p>

<p>长期存在与Web应用中的问题：双重提交问题。当表单提交时会出现延迟，又是是几秒或者更长，这使得用户会多次单机提交按钮，从而给服务器端代码带来诸多麻烦。</p>

<p>这里只提示客户端的解决方案（服务器端代码仍然需要保持警惕），我们捕获表单的submit事件并在第一次单机后禁用提交按钮。这样用户将会没有机会多次单机提交按钮。</p>

<p><code>$(&quot;form&quot;).submit(function(){</code></p>

<p><code>&nbsp; $(&quot;:submit&quot;,this).attr(&quot;disabled&quot;, &quot;disabled&quot;);</code></p>

<p><code>});</code></p>

<p>&nbsp;</p>

<p>添加和删除类名</p>

<pre>
addClass(names)

为包装集中的所有元素添加指定的单个或多个类名

removeClass(names)
</pre>

<pre>

从包装集中的每个元素上删除指定的单个或多个类名

toggleClass(names)

如果元素不存在指定类名则为其添加此类名，如果元素已经拥有这个类名则从中删除此类名。对各个元素分别检测，因为可能有些元素有此类名有些没有。

jQuery提供了toggleClass()方法的另一个变体，它可以让我们根据任意的布尔表达式来添加或删除类

toggleClass(names, switch)

如果switch表达式的计算结果为true，则添加此类名，如果计算结果为false，则删除此类名
</pre>

<pre>
hasClass(name)

确定匹配集中是否欧元素拥有通过name参数传入的类名，返回布尔值</pre>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>获取和设置样式</p>

<pre>
css(name, value)

设置每个匹配元素的已命名CSS样式属性为指定的值

css(properties)

设置所有匹配元素的CSS属性为传入对象的多个键值，参数为对象

css(name)

获取包装集中第一个元素的CSS属性的已计算值，这个CSS属性由name指定
</pre>

<pre>
width(value) height(value)

设置匹配集中所有元素的元素的宽度和高度

width() height()

获取包装集中第一个元素的宽度或高度
</pre>

<pre>

offset()

返回包装集中第一个元素相对于文档参照源的位置（以px为单位）

position()

返回包装集中第一个元素相对于最近偏移父元素的位置（以px为单位）</pre>

<p>&nbsp;</p>

<p>替换HTML或者文本内容</p>

<pre>
html()

获取匹配集中的第一个元素HTML内容


html(content)

将传入的HTML片段设置为所有匹配元素的内容
</pre>

<pre>


text()

将包装元素中的所有文本内容连接起来，并作为此方法的结果返回


text(content)

设置所有包装元素的文本内容为传入的值。如果传入的文本包含尖括号或AND符号(&amp;)，则这些字符会被替换为相应的HTML实体字符例如&lt;、&gt;、&amp;等</pre>

<p>&nbsp;</p>

<p>移动和复制元素</p>

<pre>
append(child)

将传入的HTML片段或者元素追加到所有匹配元素的内容中，追加到目标元素的子节点末尾

prepend(content)

将传入的HTML片段或者元素添加到所有匹配元素的内容的开头
</pre>

<pre>

before(content)

将传入的HTML片段或者元素插入为目标元素的兄弟节点，位于目标元素之前。目标包装元素必须已经是DOM的一部分。

after(content)

将传入的HTML片段或者元素插入为目标元素的同级节点，位于目标元素之后。目标包装集元素必须已经是DOM的一部分。
</pre>

<pre>

appendTo(targets)

将包装集中的所有元素追加到指定目标元素内容的末尾

prependTo(targets)

将包装集中的所有的元素添加到指定目标元素内容的开头
</pre>

<pre>
insertBefore(targets)

将包装集中的所有元素添加到DOM中指定目标元素的前面

insertAfter(targets)

将包装集中的所有的元素添加到DOM中指定目标元素的后面

</pre>

<p>包裹与反包裹元素</p>

<pre>
wrap(wrapper)

使用传入的HTML标签或元素的副本将匹配集中的元素包裹起来

wrapAll(wrapper)

使用传入的HTML标签或者元素的副本，将匹配集中的元素作为一个整体包裹起来

wrapInner(wrapper)

使用传入的HTML标签或者元素的副本，将匹配集中的元素内容（包含文本节点）包裹起来

unwrap()

删除包装元素的父元素。子元素和其所有的同级节点一起替换了DOM中的父元素

</pre>

<p>删除元素</p>

<pre>
remove(selector)

从页面DOM中删除包装集中的所有元素，并且所有绑定的事件都会被删除

detach(selector)

从页面DOM中删除包装集中的所有元素，保留绑定的事件和jQuery数据

empty()

删除匹配集中所有DOM元素的内容

</pre>

<p>复制元素</p>

<pre>
clone(copyHandlers)

创建包装集中元素的副本，并返回包含这些副本的新包装集。这些元素和任何子节点都会被赋值。是否赋值事件处理器取决于copyHandlers参数的设置

</pre>

<p>替换元素</p>

<pre>
replaceWith(content)

使用指定的内容替换每个匹配元素

replaceAll(selector)

使用此方法的匹配集的内容，替换所有与传入的选择器相匹配的元素</pre>

<p>处理表单元素值</p>

<pre>
val()

返回匹配集中第一个元素的value特性。如果此元素师一个可以多选的元素时，返回值是所有选择项所组成的数组

val(value)

设置传入的值为所有匹配表单元素的value

val(values)

倒置包装集中任何复选框、单选按钮或者元素的可选项编程选中(checked)或者选择(selected)状态，只要它们值匹配传入的values数组中的任何一个值  

例如：</pre>

<p><code>$(&quot;input, select&quot;).val([&#39;one&#39;, &#39;two&#39;, &#39;three&#39;]);</code></p>

<p>这个语句搜索页面上所有和元素，只要这些元素的值与输入字符串&#39;one&#39;, &#39;two&#39;, &#39;three&#39;任何一个相匹配。任何匹配的复选框或者单选按钮都会编程选中状态，任何匹配的可选项将会变成选择状态。</p>
